<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title></title><link href="../../../style.css" type="text/css" rel="stylesheet"><meta content="DocBook XSL Stylesheets Vsnapshot_9949" name="generator"><link rel="home" href="../../../index.html" title="The Weta project"><link rel="up" href="../WetaAssemblerReferenceAZ.html" title="Weta Assembler Reference A-Z"><link rel="prev" href="asm_on.html" title=""><link rel="next" href="asm_or.html" title=""></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3"></th></tr><tr><td align="left" width="20%"><a accesskey="p" href="asm_on.html">Prev</a>&nbsp;</td><th align="center" width="60%">Weta Assembler Reference A-Z</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="asm_or.html">Next</a></td></tr></table><hr></div><div lang="en" class="article"><div class="titlepage"><hr></div>
    
<div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N4765E"></a>ONFOR</h2></div></div></div>
    
    <div class="stack">
        <table border="1"><thead><tr><th colspan="2" align="left">VM Stack</th></tr><tr><th align="left">Before</th><th align="left">After</th></tr></thead><tbody><tr><td align="left">&nbsp;</td><td rowspan="2" align="left">&nbsp;</td></tr><tr><td align="left"><span class="args">millis (int16)</span></td></tr></tbody></table>
    </div>
    <div class="abstract"><p class="title"><b>Abstract</b></p>
        <p>Pop an int16 from the top of the stack. Turn the currently selected motors on, wait for the number of
            milliseconds specified by the popped value, then turn the motors off.</p>
        <p>Motors are selected using the <a href="../../../assembler/reference/a-z/asm_motors.html" class="olink">motors</a> instruction.</p>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="N476AA"></a>Synopsis</h3></div></div></div>
        
        <div class="funcsynopsis">
            <p>int16&nbsp;&nbsp;&nbsp;&nbsp;<span class="args">millis</span></p>
            <p><span class="command"><strong>onfor</strong></span></p>
        </div>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="N476BD"></a>Arguments</h3></div></div></div>
        
            <p><span class="args">&lt;millis&gt;</span> - the number of milliseconds to leave the motors
                on for (int16).</p>

    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="N476C9"></a>Returns</h3></div></div></div>
        
        <p>Nil</p>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="N476D2"></a>Example</h3></div></div></div>
        
        <pre class="programlisting">
        ...
        uint8  0b11  ; Binary value selecting the first two motors
        motors       ; Flag the above motors as being selected
        off          ; make sure both motors are off
        thatway      ; selected motors in 'that' direction
        uint8  255   ; selected motors to full power
        setpower     ;
        int16 1000   ; selected motors on for 1 second
        onfor
        brake        ; brake selected motors
            ...
        </pre>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="N476DB"></a>See Also</h3></div></div></div>
        
        <p>
            <a href="../../../assembler/reference/a-z/asm_brake.html" class="olink">brake</a>
            <a href="../../../assembler/reference/a-z/asm_motors.html" class="olink">motors</a>
            <a href="../../../assembler/reference/a-z/asm_off.html" class="olink">off</a>
            <a href="../../../assembler/reference/a-z/asm_on.html" class="olink">on</a>
            <a href="../../../assembler/reference/a-z/asm_rd.html" class="olink">rd</a>
            <a href="../../../assembler/reference/a-z/asm_setpower.html" class="olink">setpower</a>
            <a href="../../../assembler/reference/a-z/asm_thatway.html" class="olink">thatway</a>
            <a href="../../../assembler/reference/a-z/asm_thisway.html" class="olink">thisway</a>
        </p>
    </div>
</div>
</div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="asm_on.html">Prev</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="../WetaAssemblerReferenceAZ.html">Up</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="asm_or.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="../../../index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;</td></tr></table></div></body></html>